{"version":3,"sources":["webpack:///webpack/bootstrap b91472a716522847256b","webpack:///./src/vector.js","webpack:///./src/key.js","webpack:///./src/thing.js","webpack:///./src/index.js","webpack:///./src/game.js","webpack:///./src/game-scene.js","webpack:///./src/physics-scene.js","webpack:///./src/scene.js","webpack:///./src/player.js","webpack:///./src/node.js","webpack:///./src/get-id.js","webpack:///./src/transition.js","webpack:///./node_modules/d3-ease/index.js","webpack:///./node_modules/d3-ease/src/linear.js","webpack:///./node_modules/d3-ease/src/quad.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-ease/src/poly.js","webpack:///./node_modules/d3-ease/src/sin.js","webpack:///./node_modules/d3-ease/src/exp.js","webpack:///./node_modules/d3-ease/src/circle.js","webpack:///./node_modules/d3-ease/src/bounce.js","webpack:///./node_modules/d3-ease/src/back.js","webpack:///./node_modules/d3-ease/src/elastic.js","webpack:///./src/colors.js","webpack:///./src/renderer.js","webpack:///./src/camera.js","webpack:///./src/rect.js"],"names":["Vector","x","y","other","scalar","sq","Math","sqrt","magSq","atan2","mag","h","heading","cos","sin","magnitude","lhs","rhs","clone","add","sub","mult","isKeyDown","keys","CONTROLLED_KEYS","onKeyDown","event","code","indexOf","preventDefault","onKeyUp","document","addEventListener","Thing","mass","pos","vel","forces","color","radius","radiusTransition","start","end","calcRadius","duration","easing","force","step","PI","amount","setMass","t","constructor","name","remove","renderer","drawCircle","init","canvas","getElementById","setAttribute","window","innerWidth","innerHeight","game","Game","camera","width","height","getContext","scene","update","bind","prevTimestamp","requestAnimationFrame","timestamp","clear","draw","MAX_ITEMS","GameScene","player","addChild","i","spawnThing","itemCount","items","length","ensureItemCount","renderLevel","moveCamera","onScreen","forEach","isInBounds","item","removeFarthestThing","coords","getRandomInBounds","thing","farthestThing","d1","d2","removeChild","title","target","center","GRAVITATIONAL_CONSTANT","PhysicsScene","applyGravity","checkCollisions","j","a","b","d","f","max","applyForce","fromAngle","onCollide","Scene","setParent","push","child","index","splice","FORCE","INITIAL_COLOR","Player","scoreAngle","reset","addMass","score","renderScore","theta","offset","stroke","opacity","Node","__isNode","id","parent","getId","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","Transition","config","defaultConfig","timer","getColor","COLORS","random","Renderer","drawingContext","ctx","style","callback","undefined","globalAlpha","strokeStyle","strokeWidth","lineWidth","fillStyle","clearRect","getScreenCoordinates","withStyle","beginPath","arc","fill","Camera","tl","bounds","getBounds","x1","y1","margin","x2","y2","Rect","abs"],"mappings":"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","file":"main.54f0aa80ad9c20179bab.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b91472a716522847256b","export default class Vector {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  static fromAngle(heading, magnitude) {\n    return new Vector(\n      Math.cos(heading) * magnitude,\n      Math.sin(heading) * magnitude\n    );\n  }\n\n  static add(lhs, rhs) {\n    return lhs.clone().add(rhs);\n  }\n\n  static sub(lhs, rhs) {\n    return lhs.clone().sub(rhs);\n  }\n\n  static mult(lhs, rhs) {\n    return lhs.clone().mult(rhs);\n  }\n\n  clone() {\n    return new Vector(this.x, this.y);\n  }\n\n  add(other) {\n    this.x += other.x;\n    this.y += other.y;\n    return this;\n  }\n\n  sub(other) {\n    this.x -= other.x;\n    this.y -= other.y;\n    return this;\n  }\n\n  mult(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    return this;\n  }\n\n  magSq() {\n    const sq = x => x * x;\n    return sq(this.x) + sq(this.y);\n  }\n\n  mag() {\n    return Math.sqrt(this.magSq());\n  }\n\n  heading() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  limit(mag) {\n    if (this.magSq() > mag * mag) {\n      const h = this.heading();\n      this.x = Math.cos(h) * mag;\n      this.y = Math.sin(h) * mag;\n    }\n    return this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vector.js","const keys = {};\n\nconst CONTROLLED_KEYS = [\n  'ArrowUp',\n  'ArrowRight',\n  'ArrowDown',\n  'ArrowLeft',\n  'Space'\n];\n\nfunction onKeyDown(event) {\n  keys[event.code] = true;\n  if (CONTROLLED_KEYS.indexOf(event.code) !== -1) event.preventDefault();\n}\n\nfunction onKeyUp(event) {\n  keys[event.code] = false;\n  event.preventDefault();\n}\n\ndocument.addEventListener('keydown', onKeyDown);\ndocument.addEventListener('keyup', onKeyUp);\n\nexport function isKeyDown(code) {\n  return !!keys[code];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/key.js","import Vector from './vector';\nimport Node from './node';\nimport Transition from './transition';\nimport { easeBackOut, easeCubicOut } from 'd3-ease';\nimport getColor from './colors';\n\nexport default class Thing extends Node {\n  constructor(x, y, mass) {\n    super();\n\n    this.pos = new Vector(x, y);\n    this.vel = new Vector(0, 0);\n    this.forces = new Vector(0, 0);\n    this.mass = mass;\n    this.color = getColor();\n\n    this.radius = 0;\n    this.radiusTransition = new Transition({\n      start: 0,\n      end: this.calcRadius(),\n      duration: 30,\n      easing: easeCubicOut\n    });\n  }\n\n  applyForce(force) {\n    this.forces.add(force.mult(1 / this.mass));\n  }\n\n  update(step) {\n    this.vel.add(Vector.mult(this.forces, step));\n    this.pos.add(Vector.mult(this.vel, step));\n\n    if (this.radiusTransition !== null) {\n      this.radius = this.radiusTransition.step(step);\n    }\n  }\n\n  calcRadius() {\n    return Math.sqrt(this.mass * 900 / Math.PI);\n  }\n\n  addMass(amount) {\n    this.setMass(this.mass + amount);\n  }\n\n  setMass(mass) {\n    this.mass = mass;\n    this.radiusTransition = new Transition({\n      start: this.radius,\n      end: this.calcRadius(),\n      duration: 30,\n      easing: t => easeBackOut(t, 3)\n    });\n  }\n\n  onCollide(other) {\n    if (other.constructor.name === 'Player') {\n      this.remove();\n    }\n  }\n\n  draw(renderer) {\n    renderer.drawCircle(this.pos.x, this.pos.y, this.radius, {\n      color: this.color\n    });\n\n    this.forces.x = 0;\n    this.forces.y = 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/thing.js","import Game from './game';\n\nfunction init() {\n  const canvas = document.getElementById('canvas');\n  canvas.setAttribute('width', window.innerWidth);\n  canvas.setAttribute('height', window.innerHeight);\n\n  const game = new Game(canvas);\n  game.start();\n}\n\ninit();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import GameScene from './game-scene';\nimport Renderer from './renderer';\nimport Camera from './camera';\n\nexport default class Game {\n  constructor(canvas) {\n    // set up camera\n    this.camera = new Camera(canvas.width, canvas.height);\n\n    // set up renderer\n    this.renderer = new Renderer(canvas.getContext('2d'), this.camera);\n\n    // set up root scene\n    this.scene = new GameScene(this.camera);\n\n    this.update = this.update.bind(this);\n    this.prevTimestamp = null;\n  }\n\n  start() {\n    window.requestAnimationFrame(this.update);\n  }\n\n  update(timestamp) {\n    this.renderer.clear();\n\n    if (this.prevTimestamp !== null) {\n      const step = timestamp - this.prevTimestamp;\n\n      this.scene.update(step * 60 / 1000);\n      this.scene.draw(this.renderer);\n    }\n\n    this.prevTimestamp = timestamp;\n    window.requestAnimationFrame(this.update);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/game.js","import PhysicsScene from './physics-scene';\nimport Vector from './vector';\nimport Player from './player';\nimport Thing from './thing';\n\nconst MAX_ITEMS = 30;\n\nexport default class GameScene extends PhysicsScene {\n  constructor(camera) {\n    super(camera);\n\n    this.player = new Player(0, 0);\n    this.addChild(this.player);\n\n    for (let i = 0; i < 10; i++) {\n      this.spawnThing();\n    }\n\n    this.itemCount = this.items.length;\n  }\n\n  update(step) {\n    super.update(step);\n    this.ensureItemCount();\n    this.renderLevel();\n    this.moveCamera();\n  }\n\n  ensureItemCount() {\n    // count items on screen\n    let onScreen = 0;\n    this.items.forEach(item => {\n      if (this.camera.isInBounds(item.pos.x, item.pos.y, item.radius)) {\n        onScreen++;\n      }\n    });\n\n    if (onScreen < this.itemCount) {\n      this.spawnThing();\n    }\n\n    if (this.items.length > MAX_ITEMS) this.removeFarthestThing();\n  }\n\n  spawnThing() {\n    const coords = this.camera.getRandomInBounds();\n    const thing = new Thing(coords.x, coords.y, 0.5);\n    this.addChild(thing);\n  }\n\n  removeFarthestThing() {\n    if (!this.items.length) return;\n\n    let farthestThing = this.items[0];\n    this.items.forEach(item => {\n      const d1 = Vector.sub(farthestThing.pos, this.player.pos).magSq();\n      const d2 = Vector.sub(item.pos, this.player.pos).magSq();\n\n      if (d2 > d1) {\n        farthestThing = item;\n      }\n    });\n\n    this.removeChild(farthestThing);\n  }\n\n  renderLevel() {\n    document.title = `lvl ${this.player.target - 2}`;\n  }\n\n  moveCamera() {\n    this.camera.center.x = this.player.pos.x;\n    this.camera.center.y = this.player.pos.y;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-scene.js","const GRAVITATIONAL_CONSTANT = 100;\nimport Vector from './vector';\nimport Scene from './scene';\nimport { isKeyDown } from './key';\n\nexport default class PhysicsScene extends Scene {\n  update(step) {\n    this.applyGravity();\n\n    super.update(step);\n\n    // this.wrapItems();\n    this.checkCollisions();\n  }\n\n  applyGravity() {\n    for (let i = 0; i < this.items.length - 1; i++) {\n      for (let j = i + 1; j < this.items.length; j++) {\n        const a = this.items[i];\n        const b = this.items[j];\n\n        const d = Vector.sub(a.pos, b.pos);\n        let f =\n          GRAVITATIONAL_CONSTANT * a.mass * b.mass / Math.max(d.magSq(), 100);\n\n        if (isKeyDown('Space')) f *= -1;\n        a.applyForce(Vector.fromAngle(d.heading(), -f));\n        b.applyForce(Vector.fromAngle(d.heading(), f));\n      }\n    }\n  }\n\n  checkCollisions() {\n    for (let i = 0; i < this.items.length - 1; i++) {\n      for (let j = i + 1; j < this.items.length; j++) {\n        const a = this.items[i];\n        const b = this.items[j];\n        const d = Vector.sub(a.pos, b.pos).magSq();\n        const sq = x => x * x;\n        if (d < sq(a.radius + b.radius)) {\n          a.onCollide(b);\n          b.onCollide(a);\n        }\n      }\n    }\n  }\n\n  wrapItems() {\n    this.items.forEach(item => {\n      const { x, y } = item.pos;\n      if (x < 0) item.pos.x += this.width;\n      if (y < 0) item.pos.y += this.height;\n      if (x > this.width) item.pos.x -= this.width;\n      if (y > this.height) item.pos.y -= this.height;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/physics-scene.js","export default class Scene {\n  constructor(camera) {\n    this.items = [];\n    this.camera = camera;\n  }\n\n  addChild(item) {\n    item.setParent(this);\n    this.items.push(item);\n  }\n\n  removeChild(child) {\n    const index = this.items.indexOf(child);\n    if (index > -1) this.items.splice(index, 1);\n  }\n\n  update(step) {\n    this.items.forEach(i => i.update(step));\n  }\n\n  draw(renderer) {\n    this.items.forEach(i => i.draw(renderer));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene.js","import Thing from './thing';\nimport Vector from './vector';\nimport { isKeyDown } from './key';\n\nconst FORCE = 0.2;\nconst INITIAL_COLOR = '#fff';\n\nexport default class Player extends Thing {\n  constructor(x, y) {\n    super(x, y, 1);\n    this.color = INITIAL_COLOR;\n\n    this.target = 3;\n    this.items = 0;\n\n    this.scoreAngle = 0;\n  }\n\n  update(step) {\n    if (isKeyDown('ArrowRight')) this.applyForce(new Vector(FORCE, 0));\n    if (isKeyDown('ArrowLeft')) this.applyForce(new Vector(-FORCE, 0));\n    if (isKeyDown('ArrowDown')) this.applyForce(new Vector(0, FORCE));\n    if (isKeyDown('ArrowUp')) this.applyForce(new Vector(0, -FORCE));\n\n    super.update(step);\n    this.scoreAngle += step * this.vel.x / 100;\n  }\n\n  score() {\n    this.items++;\n    if (this.items >= this.target) {\n      this.target++;\n      this.reset();\n    }\n  }\n\n  reset() {\n    this.items = 0;\n    this.setMass(1);\n    this.color = INITIAL_COLOR;\n  }\n\n  onCollide(other) {\n    if (other.constructor.name === 'Thing') {\n      if (other.color !== this.color) {\n        this.reset();\n        this.color = other.color;\n      }\n\n      this.addMass(other.mass);\n      this.score();\n    }\n  }\n\n  draw(renderer) {\n    super.draw(renderer);\n    this.renderScore(renderer);\n  }\n\n  renderScore(renderer) {\n    for (let i = 0; i < this.target; i++) {\n      const theta = Math.PI * 2 / this.target * i + this.scoreAngle;\n      const offset = this.radius + 20;\n      const pos = Vector.add(this.pos, Vector.fromAngle(theta, offset));\n\n      renderer.drawCircle(pos.x, pos.y, 5, {\n        color: this.color,\n        stroke: i >= this.items,\n        opacity: i >= this.items ? 0.3 : 1\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/player.js","import getId from './get-id';\n\nexport default class Node {\n  constructor() {\n    this.__isNode = true;\n    this.id = getId();\n    this.parent = null;\n  }\n\n  setParent(parent) {\n    this.parent = parent;\n  }\n\n  remove() {\n    this.parent.removeChild(this);\n  }\n\n  update() {}\n\n  draw() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/node.js","let id = 0;\n\nexport default function getId() {\n  return id++;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/get-id.js","export const easings = {\n  // props to gre (https://gist.github.com/gre/1650294) for this list\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => --t * t * t + 1,\n  easeInOutCubic: t =>\n    t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t =>\n    t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nexport default class Transition {\n  constructor(config) {\n    const defaultConfig = {\n      start: 0,\n      end: 0,\n      duration: 60,\n      easing: easings.linear\n    };\n\n    config = {\n      ...defaultConfig,\n      ...config\n    };\n\n    this.start = config.start;\n    this.end = config.end;\n    this.duration = config.duration;\n    this.easing = config.easing;\n    this.timer = 0;\n  }\n\n  step(step) {\n    const t = this.timer / this.duration;\n    if (t < 1) {\n      this.timer += step;\n      return this.easing(t) * (this.end - this.start) + this.start;\n    } else {\n      return this.end;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/transition.js","export {\n  linear as easeLinear\n} from \"./src/linear\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./src/quad\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./src/cubic\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./src/poly\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./src/sin\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./src/exp\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./src/circle\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./src/bounce\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./src/back\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./src/elastic\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/index.js\n// module id = 13\n// module chunks = 0","export function linear(t) {\n  return +t;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/linear.js\n// module id = 14\n// module chunks = 0","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/quad.js\n// module id = 15\n// module chunks = 0","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/cubic.js\n// module id = 16\n// module chunks = 0","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/poly.js\n// module id = 17\n// module chunks = 0","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/sin.js\n// module id = 18\n// module chunks = 0","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/exp.js\n// module id = 19\n// module chunks = 0","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/circle.js\n// module id = 20\n// module chunks = 0","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/bounce.js\n// module id = 21\n// module chunks = 0","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/back.js\n// module id = 22\n// module chunks = 0","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-ease/src/elastic.js\n// module id = 23\n// module chunks = 0","const COLORS = ['#ffff00', '#00ffff', '#ff00ff'];\n\nexport default function getColor() {\n  return COLORS[~~(Math.random() * COLORS.length)];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/colors.js","export default class Renderer {\n  constructor(drawingContext, camera) {\n    this.ctx = drawingContext;\n    this.camera = camera;\n  }\n\n  withStyle(style, callback) {\n    if (style.opacity !== undefined) {\n      this.ctx.globalAlpha = style.opacity;\n    }\n\n    if (style.stroke) {\n      if (style.color !== undefined) this.ctx.strokeStyle = style.color;\n      if (style.strokeWidth !== undefined)\n        this.ctx.lineWidth = style.strokeWidth;\n    } else {\n      if (style.color !== undefined) this.ctx.fillStyle = style.color;\n    }\n\n    callback();\n\n    this.ctx.globalAlpha = 1;\n    this.ctx.lineWidth = 1;\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.camera.width, this.camera.height);\n  }\n\n  drawCircle(x, y, radius, style) {\n    if (this.camera.isInBounds(x, y, radius)) {\n      const coords = this.camera.getScreenCoordinates(x, y);\n\n      this.withStyle(style, () => {\n        this.ctx.beginPath();\n        this.ctx.arc(coords.x, coords.y, radius, 0, 2 * Math.PI);\n\n        if (style.stroke) {\n          this.ctx.stroke();\n        } else {\n          this.ctx.fill();\n        }\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer.js","import Vector from './vector';\nimport Rect from './rect';\n\nexport default class Camera {\n  constructor(width, height) {\n    this.center = new Vector(0, 0);\n    this.width = width;\n    this.height = height;\n  }\n\n  getScreenCoordinates(x, y) {\n    return new Vector(x, y)\n      .sub(this.center)\n      .add(new Vector(this.width / 2, this.height / 2));\n  }\n\n  getBounds() {\n    const tl = new Vector(-this.width / 2, -this.height / 2).add(this.center);\n    return new Rect(tl.x, tl.y, tl.x + this.width, tl.y + this.height);\n  }\n\n  getRandomInBounds() {\n    const bounds = this.getBounds();\n\n    return new Vector(\n      Math.random() * bounds.width() + bounds.x1,\n      Math.random() * bounds.height() + bounds.y1\n    );\n  }\n\n  setCenter(x, y) {\n    this.center = new Vector(x, y);\n  }\n\n  isInBounds(x, y, margin = 0) {\n    const bounds = this.getBounds();\n\n    return (\n      x + margin > bounds.x1 &&\n      x - margin < bounds.x2 &&\n      y + margin > bounds.y1 &&\n      y - margin < bounds.y2\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/camera.js","export default class Rect {\n  constructor(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  width() {\n    return Math.abs(this.x1 - this.x2);\n  }\n\n  height() {\n    return Math.abs(this.y1 - this.y2);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/rect.js"],"sourceRoot":""}